{
  "Serilog": {
    "MinimumLevel": { "Default": "Information" },
    "WriteTo": [{ "Name": "Console" }],
    "Properties": { "Application": "ApiGateway" }
  },
  "AllowedHosts": "*",
  "Cors": {
    "Origins": "http://localhost:4200"
  },
  "ReverseProxy": {
    "Routes": {
      "identity-route": {
        "ClusterId": "identity-cluster",
        "Match": {
          "Path": "/api/identity/{**catch-all}"
        },
        "Transforms": [
          { "PathRemovePrefix": "/api/identity" },
          { "PathPrefix": "/api" }
        ]
      },
      "users-route": {
        "ClusterId": "identity-cluster",
        "Match": {
          "Path": "/api/users/{**catch-all}"
        }
      },
      "profiles-route": {
        "ClusterId": "identity-cluster",
        "Match": {
          "Path": "/api/profiles/{**catch-all}"
        }
      },
      "accounts-route": {
        "ClusterId": "identity-cluster",
        "Match": {
          "Path": "/api/accounts/{**catch-all}"
        }
      },
      "weddings-route": {
        "ClusterId": "wedding-cluster",
        "Match": {
          "Path": "/api/weddings/{**catch-all}"
        }
      },
      "customers-route": {
        "ClusterId": "wedding-cluster",
        "Match": {
          "Path": "/api/customers/{**catch-all}"
        }
      },
      "bidders-route": {
        "ClusterId": "bidding-cluster",
        "Match": {
          "Path": "/api/bidders/{**catch-all}"
        }
      },
      "bids-route": {
        "ClusterId": "bidding-cluster",
        "Match": {
          "Path": "/api/bids/{**catch-all}"
        }
      },
      "messages-route": {
        "ClusterId": "messaging-cluster",
        "Match": {
          "Path": "/api/messages/{**catch-all}"
        }
      },
      "subscriptions-route": {
        "ClusterId": "subscription-cluster",
        "Match": {
          "Path": "/api/subscriptions/{**catch-all}"
        }
      },
      "issues-route": {
        "ClusterId": "support-cluster",
        "Match": {
          "Path": "/api/issues/{**catch-all}"
        }
      }
    },
    "Clusters": {
      "identity-cluster": {
        "Destinations": {
          "identity-destination": {
            "Address": "http://localhost:5001"
          }
        }
      },
      "wedding-cluster": {
        "Destinations": {
          "wedding-destination": {
            "Address": "http://localhost:5002"
          }
        }
      },
      "bidding-cluster": {
        "Destinations": {
          "bidding-destination": {
            "Address": "http://localhost:5003"
          }
        }
      },
      "messaging-cluster": {
        "Destinations": {
          "messaging-destination": {
            "Address": "http://localhost:5004"
          }
        }
      },
      "subscription-cluster": {
        "Destinations": {
          "subscription-destination": {
            "Address": "http://localhost:5005"
          }
        }
      },
      "support-cluster": {
        "Destinations": {
          "support-destination": {
            "Address": "http://localhost:5006"
          }
        }
      }
    }
  }
}
