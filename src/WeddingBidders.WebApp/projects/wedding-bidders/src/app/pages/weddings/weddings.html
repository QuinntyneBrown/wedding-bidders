<div class="weddings">
  <div class="weddings__header">
    <h1>Weddings</h1>
    <button mat-raised-button color="primary" routerLink="/create-wedding">
      <mat-icon>add</mat-icon>
      Create Wedding
    </button>
  </div>

  @if (isLoading) {
    <div class="weddings__loading">
      <mat-spinner></mat-spinner>
    </div>
  } @else if (errorMessage) {
    <div class="weddings__error">{{ errorMessage }}</div>
  } @else if (weddings.length === 0) {
    <div class="weddings__empty">
      <mat-icon>event</mat-icon>
      <p>No weddings found</p>
      <button mat-raised-button color="primary" routerLink="/create-wedding">Create Your First Wedding</button>
    </div>
  } @else {
    <div class="weddings__grid">
      @for (wedding of weddings; track wedding.weddingId) {
        <mat-card class="weddings__card">
          <mat-card-header>
            <mat-card-title>{{ wedding.location }}</mat-card-title>
            <mat-card-subtitle>{{ formatDate(wedding.date) }}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <div class="weddings__details">
              <div class="weddings__detail">
                <mat-icon>people</mat-icon>
                <span>{{ wedding.numberOfGuests }} Guests</span>
              </div>
              <div class="weddings__detail">
                <mat-icon>schedule</mat-icon>
                <span>{{ wedding.numberOfHours }} Hours</span>
              </div>
            </div>
            <div class="weddings__categories">
              @for (category of wedding.categories; track category.categoryId) {
                <mat-chip>{{ category.name }}</mat-chip>
              }
            </div>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button [routerLink]="['/bids', wedding.weddingId]">View Bids</button>
            <button mat-button color="primary">View Details</button>
          </mat-card-actions>
        </mat-card>
      }
    </div>
  }
</div>
